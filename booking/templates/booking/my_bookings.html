{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-white mb-8">My Bookings</h2>
    <div class="space-y-6">
        {% for booking in bookings %}
        <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div>
                <h3 class="text-xl font-bold text-white">{{ booking.travel_option.type }} to {{ booking.travel_option.destination }}</h3>
                <p class="text-gray-400 mt-1">From: {{ booking.travel_option.source }} | Departure: {{ booking.travel_option.departure_time|date:"d M Y, H:i" }}</p>
                <p class="text-gray-400">Seats: {{ booking.num_of_seats }} | Total Price: ${{ booking.total_price }}</p>
            </div>
            <div class="flex items-center gap-4 mt-4 md:mt-0">
                <span class="px-3 py-1 text-sm font-medium rounded-full {% if booking.status == 'Confirmed' %} bg-green-500/20 text-green-300 {% else %} bg-red-500/20 text-red-300 {% endif %}">
                    {{ booking.status }}
                </span>
                {% if booking.status == 'Confirmed' %}
                <form method="post" action="{% url 'cancel_booking' booking.id %}" class="inline">
                    {% csrf_token %}
                    <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 text-sm">Cancel</button>
                </form>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="text-center py-12 bg-gray-800/50 rounded-lg">
            <p class="text-gray-400">You have no bookings yet.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
